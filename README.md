# 第7週課題 -REST APIをSpringBootで実装-

## 概要

- 第7週課題 REST APIをSpringBootで実装します。
- REST API 関連の用語を簡単にまとめました。

- - - 

## 環境

- IntelliJ IDEA
- Java 17

- - -

### REST API関連用語

<details><summary>REST APIとは</summary>

- RESTとは、「REpresentational State Transfer」の略でWebシステムの設計方式のことを指す。「具体的に状態を定義した情報のやり取り」的な意味合い。
  ESTには「RESTの４原則」というものがあり、これを満たしたものをRESTfulという。基本的にこの4原則を満たしていないものはRESTとは言えない。
  そして4つの中で一番大事なのが「ステートレス性」。そのほかの３つ「統一インターフェース」「アドレス可能性」「接続性」について、Web開発に於いては、IDEやフレームワークが勝手に保証してくれるからあまり意識しなくてもいいとのこと。

ステートレスー状態管理を行わない。やりとりが一回ごとに完結する。ということ。同じ情報を保持しておかないという感じ。

- APIとはAPIとは「Apprication Programing Interface」。プログラムとアプリのインターフェイス。窓口みたいなもの。

- REST APIは上記の二つを合わせたもの。RESTという設定方式を取ったAPIのこと。
  以上の二つを合体させると「RESTfulな感じで作られたAPI」という事。
  因みに、RESTは標準化された仕組みではなくて、あくまでも「Web通信のやり取りにはこんな運用方法で作ってみよう」的な設計思想である。

</details>

<details><summary>クエリ文字とは？(クエリパラメータ、URLパラメータ)</summary>

- クエリとは -「Query」は日本語で「問い合わせ」のこと。
- クエリ文字、というか「クエリ文字列」という表現が正しい。URLの末尾に「？＝」をつけて以降サーバーに送る情報を付け足したもの。

```
<!-- gotopoyoと検索してほしい意味 -->
<!-- ?q=raisetechがクエリパラメータ -->
https://www.google.com/search?q=gotopoyo
```

- 「？」の後に付ける情報、キーとバリュー(値)のことをそれぞれクエリキーとクエリバリューとか言ったりする。
- 例：上記でいう「？」の後の「q」と「＝」で結んだ「gotopoyo」のこと。
  「？」以降の情報を付与した文字列をまとめてクエリ文字列とかクエリパラメーターだという。

URLパラメーターはクエリパラメーターと同義。今の所は全部ほぼ一緒くらいに理解しておくに留める。

</details>


<details><summary>パスパラメータ</summary>

- パスパラメータはURLの一部として指定される変数のこと。クエリパラメータはクエリ文字列を使い文末に「？＝」を使って
  情報を付加するが、パスパラメータは直接情報を指定する。

```
<https://example.com/users/{user_id}>
```

`{user_id}`の部分がパスパラメータ。単にパスでも良い。
今回提出するコードでいうところでは`NameController`クラスのアノテーション`@GetMapping("/names")`の`names`は指定されるパスにあたる情報となる。

</details>

<details><summary>HTTPメソッド</summary>

HTTPメソッドとは、対象のリソースに何をしたいのか指示する内容を定義したもの。以下のものがHTTPメソッドで、それぞれのの指示内容を説明する。

- GET-リソースの情報を取得する。
- POST-リソースに新しいを情報を与える。
- PATCH-リソースの情報を部分的に変更する。
- DELETE-指定したリソースを削除する。
  その他にも様々なHTTPメソッドがある。割愛。

</details>

<details><summary>HTTPメッセージ</summary>

HTTPメッセージには、通信でのやり取りの情報が記載されている。

- HTTPリクエスト  
  記載順に並んでいる。
    - リクエストライン-リクエストの一番最初の行に記載される。`HTTPメソッド/リクエスト対象(主にURL)/HTTPのバージョン`で記載される。
    - リクエストヘッダ-クライアント側へ送る付加情報を記載している。基本構造は名前：値の書式になっている。
    - リクエストボディ-本質的な情報が入るが、入らないこともある

- HTTPレスポンス  
  記載順
    - ステータスライン(ステータス行)-レスポンスの一番最初の行に記載。`プロトコルのバージョン/ステータスコード/ステータステキスト(文字列)` の順に記載。ステータスコードは後述。
    - レスポンスヘッダ-返ってきた情報がどのようなものなのかを示す。基本構造はコロン（`;`）で区切られているのはリクエストヘッダと同様。
    - レスポンスボディ(本文)-これに本質的な情報が記載される。返ってきたステータスコードによって記載されない場合もある。

</details>


<details><summary>HTTPステータスコード</summary>

HTTPレスポンスの一番上に出てくるメッセージのこと。これで通信が上手くいったのかどうなのか？
または、何かしらの状況であるのかなどを一目で分かるように伝えてくれる。

| 番台           |              意味 | 
|:-------------|----------------:|
| 100(100-199) |         情報レスポンス | 
| 200(200-299) |         成功レスポンス |
| 300(300-399) |     リダイレクトメッセージ | 
| 400(400-499) | クライアントサーバーメッセージ | 
| 500(500-599) |    サーバーエラーメッセージ |

種類がたくさんあるので、この意味合いをまず押さえれば対応の方向性も分かる。

</details>


<details><summary>通信フォーマット(JSON,XML)について</summary>

通信は、内容の構造を定義しなければやりとりができないので、決められたフォーマットを使って通信をする。主流が以下二つ。テキスト形式でやりとりする。

- JSON-「JavaScript Object Notation」の略。人間が読める(読みやすい)、軽量、コーディングが少なく、処理が高速。記述に一定の取り決めがある。  
  [リンク](https://www.oracle.com/jp/database/what-is-json/)
- XML-HTMLと同様のマークアップ言語。HTMLに似たタグを使った記述方法をとる。JSON形式より自由度が高く、情報を詰め込める。  
  [リンク](https://docs.oracle.com/cd/E19227-01/821-0424/6nlfr1bur/index.html)

JSONが主流という話もあるが、XMLが使われていない訳ではないし、それぞれ良し悪しがあるので適材適所がいいと思われる。


</details>

- - - 




